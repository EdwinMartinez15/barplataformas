<!DOCTYPE html>
<html>
<head>
	<title>Lista de Productos</title>
</head>
<body>
	<table id="product-table">
		<thead>
			<tr>
				<th>ID</th>
				<th>Nombre</th>
				<th>Precio</th>

			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
	<script>
		// Realizar la solicitud AJAX
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'http://127.0.0.1:8000/api/precio/listaProductos/?format=json', true);
		xhr.setRequestHeader('Content-Type', 'application/json');
		xhr.setRequestHeader('Accept', 'application/json');
		xhr.onreadystatechange = function() {
			if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
				// Analizar la respuesta JSON
				var products = JSON.parse(xhr.responseText);
				
				// Agregar las filas y las celdas de la tabla
				var tableBody = document.querySelector('#product-table tbody');
				products.forEach(function(product) {
					var row = document.createElement('tr');
					var idCell = document.createElement('td');
					idCell.textContent = product.id;
					row.appendChild(idCell);
					var nameCell = document.createElement('td');
					nameCell.textContent = product.name;
					row.appendChild(nameCell);
					var priceCell = document.createElement('td');
					priceCell.textContent = product.price;
					row.appendChild(priceCell);
					tableBody.appendChild(row);
				});
			}
		};
		xhr.send();
	</script>
</body>
</html>
